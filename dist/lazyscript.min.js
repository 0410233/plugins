!function(t){if(!t.LazyScript){var e={version:"0.2.0"},c=e.data={},s=k("Object"),r=k("String"),a=k("Function"),o=Array.isArray||k("Array"),i=document,u="currentScript"in i?function(t){for(var e=i.currentScript,n=t.length-1;0<=n;n--)if(t[n]===e)return t[n];return null}:"readyState"in i.createElement("script")&&(!window.opera||"[object Opera]"!==window.opera.toString())?function(t){for(var e=t.length-1;0<=e;e--)if("interactive"===t[e].readyState)return t[e];return null}:function(e){try{throw new Error("")}catch(t){if(t.stack)for(var n=e.length-1;0<=n;n--)if(e[n].src&&-1<t.stack.indexOf(e[n].src))return e[n]}return e[e.length-1]},n=/[^?#]*\//;c.cwd=!location.href||/^(about|blob):/.test(location.href)?"":R(location.href);var l=i.getElementById("lazyscript")||u(i.scripts);c.path=l.src,c.base=R(l.src||c.cwd);var h=/\/\.\//g,f=/\/[^/]+\/\.\.\//,d=/([^:/])\/+\//g,p=/{([^{]+)}/g,v=/^\/\/.|:\//,y=/^.*?\/\/.*?\//,m=Object.create(null),g=[],O={LOADING:1,LOADED:2,READY:100,ERROR:404};A.prototype={constructor:A,once:function(e,n){if(this.emitted[e])n.call(this);else{this.events[e]||(this.events[e]=[]);var r=function(){n.apply(this,arguments);var t=this.events[e];t.splice(t.indexOf(r),1)};this.events[e].push(r)}return this},emit:function(t){var e=this.events[t];if(e){this.emitted[t]=!0;for(var n=e.slice(),r=0;r<n.length;r++)n[r].apply(this,[].slice.call(arguments,1))}return this},addDependence:function(){var t=b([].slice.call(arguments));this.depsRemain+=t.length;for(var e=this,n=0,r=t.length;n<r;n++)t[n].once("ready",function(){e.depsRemain--,e.checkLoad()});return this},addTasks:function(t){this.tasks=this.tasks.concat(t),this.tasksRemain+=t.length;for(var e=this,n=0,r=t.length;n<r;n++)t[n].once("ready",function(){e.tasksRemain--,e.checkReady()}).once("error",function(){e.emit("error")});return this},addProxy:function(t){var e=this;return e.status=t.status,t.once("ready",function(){e.emit("ready")}).once("error",function(){e.emit("error")}).once("load",function(){e.emit("load")}),this},checkLoad:function(){return this.status!==O.LOADING||this.depsRemain||this.emit("load"),this},checkReady:function(){return this.status!==O.LOADED||this.tasksRemain||this.emit("ready"),this},load:function(){var n=this;if(n.status=O.LOADING,"FUNCTION"===n.type)return n.checkLoad(),this;var r=i.createElement("script");function t(t){r.onload=r.onerror=null;var e=g.indexOf(r);0<=e&&g.splice(e,1),r=null,n.emit(t?"error":"load")}return r.charset="utf-8",r.async=!0,r.src=n.src,r.onload=function(){t(!1)},r.onerror=function(){t(!0)},g.push(r),i.head.appendChild(r),this},exec:function(){switch(this.type){case"FUNCTION":try{this.src.call(t,t),this.emit("ready")}catch(t){this.emit("error"),console.error(t)}break;case"FILE":this.tasks.length&&E(this.tasks),this.checkReady()}return this}},c.polyfill=function(t){return"https://polyfill.io/v3/polyfill.min.js?features="+t.join("%2C")},e.config=function(t){for(var e in t){var n=t[e],r=c[e];if(r&&s(r))for(var i in n)r[i]=n[i];else o(r)?n=r.concat(n):"base"===e&&("/"!==n.slice(-1)&&(n+="/"),n=w(n)),c[e]=n}return this},e.resolve=I,e.preload=function(){for(var t=0,e=arguments.length;t<e;t++)D(arguments[t]).emit("load");return this},e.load=function(){var t=null,e=u(g);e&&(t=m[e.src]);for(var n,r=b([].slice.call(arguments)),i=[],s=0,c=r.length;s<c;s++)"FUNCTION"===(n=D(r[s])).type&&n.addDependence(i),i.push(n);return t?t.addTasks(i):E(i),this};var L=t.LazyScript;e.noConflict=function(){return t.LazyScript=L,this},t.LazyScript=e}function k(e){return function(t){return{}.toString.call(t)=="[object "+e+"]"}}function b(t){return t.reduce(function(t,e){return o(e)?t.concat(b(e)):t.concat(e)},[])}function R(t){return t.match(n)[0]}function w(t){var e,n=t.charCodeAt(0);if(94===n)e=t.substring(1);else if(v.test(t))e=t;else if(46===n)e=c.cwd+t;else if(47===n){var r=c.cwd.match(y);e=r?r[0]+t.substring(1):t}else e=c.base+t;return 0===e.indexOf("//")&&(e=location.protocol+e),e}function I(t){return t?function(t){for(t=(t=t.replace(h,"/")).replace(d,"$1/");t.match(f);)t=t.replace(f,"/");return t}(t=w(t=function(t){var e=t.length-1,n=t.charCodeAt(e),r=c.suffix||"";return 35===n||36===n?t.substring(0,e):".js"===t.substring(e-2)||0<t.indexOf("?")||47===n?t:t+r+".js"}(t=function(t){var n=c.vars;return n&&-1<t.indexOf("{")&&(t=t.replace(p,function(t,e){return r(n[e])?n[e]:t})),t}(t)))):""}function A(t,e){this.events=Object.create(null),this.emitted=Object.create(null),this.src=t,this.type=e,this.tasks=[],this.tasksRemain=0,this.depsRemain=0,this.status=0,this.once("ready",function(){this.status=O.READY}).once("error",function(){this.status=O.ERROR}).once("load",function(){this.status=O.LOADED,this.exec()})}function D(t){return a(t)?new A(t,"FUNCTION"):/^polyfill:/i.test(t)?(t="POLYFILL:"+t.substring(9).trim(),m[t]||(m[t]=new A(t.substring(9),"POLYFILL"))):(t=I(t),m[t]||(m[t]=new A(t,"FILE")))}function E(t){var e,n,r,i=[],s=new A("","FILE");for(n=0,r=t.length;n<r;n++)(e=t[n]).status>=O.LOADING||("POLYFILL"===e.type?(e.addProxy(s),i.push(e.src)):e.load());i.length&&a(c.polyfill)&&(s.src=c.polyfill(i),s.load())}}(this||window);