!function(n){n.scrollspy=function(p,e){function t(n,t){var f=p(n);var l=p.isWindow(f[0]);var r=null,a=null,c=null,s=null,h=null,d=null;var i={init:function(n){this.stop();r=null;a=null;c=null;s=null;h=null;d=null;if(typeof n==="function"){r===n}this.start();return this},spy:function(n,t,i){a=a||new Object(null);a.threshold=t||0;if(typeof i==="function"){a.callback=i}else if(typeof a.callback!=="function"){a.callback=null}if(l){h=function(){return a.threshold}}else{h=function(){return f[0].getBoundingClientRect().top+a.threshold}}if(!l&&typeof n==="string"){c=f.find(n)}else{c=p(n)}c=c.filter(function(){return this instanceof HTMLElement});d=null;this.update();return this},feedback:function(n,e,t){var u=p(n).filter(function(){return this instanceof HTMLElement});if(!u.length)return;function i(n){return n instanceof HTMLElement&&n.tagName==="A"&&n.hash&&n.hostname===window.location.hostname&&n.pathname===window.location.pathname}if(typeof e!=="function"){e=function(n,t){return n.id&&i(t)&&t.hash==="#"+n.id}}if(typeof t!=="function"){t=function(n,t){if(t)t.removeClass("is-active");if(n)n.addClass("is-active")}}var o=[];c.each(function(i,l){u.each(function(n,t){if(e(l,t)){if(!o[i])o[i]=p();o[i]=o[i].add(t)}})});s=s||[];s.push({elements:o,callback:t});o=null;e=null;t=null;d=null;this.update();return this},update:function(){if(typeof r==="function"){r.call(f[0])}if(c){var l=h();var e,u=0;c.each(function(n){var t=this.getBoundingClientRect().top;var i=t+p(this).outerHeight();if(t<=l&&i>=l&&(e==null||u<t)){e=this;u=t}});if(e&&d!=e){if(a.callback){a.callback(e,d)}if(s&&s.length){var n=c.index(e),t=c.index(d),i;for(var o=0;o<s.length;o++){i=s[o].elements;if(i[n]){s[o].callback.call(this,i[n],i[t]||null)}}}}d=e;e=null}return this},start:function(){f.on("scroll.spy",e.bind(e.throttle(this.update,100),this));this.update();return this},stop:function(){f.off("scroll.spy");return this}};return i.init(t)}return p.fn.scrollspy=function(n){return t(this,n)},t}(n.jQuery,n._)}(window);