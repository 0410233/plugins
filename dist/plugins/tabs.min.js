LazyScript.load("jquery","underscore",function(t){"use strict";var i=t.$,l=t._,c=1;function a(){var e=new Object(null),r=null,t=1;return{set:function(t,n){return e[t]||(e[t]=i()),e[t].push(n),null==r&&(r=t),this},get:function(t){return e[t]||i()},next:function(){for(;e[t++];);return t-1},getmap:function(){return e},first:function(){return r}}}t.Tabs=function(t){var n=i.extend({attr:"data-tabs",event:"click",activate:function(){i(this).addClass("is-active")},deactivate:function(){i(this).removeClass("is-active")}},t||{}),e="__tabs_"+c++,o=e+"_coords",d={row:a(),col:a()};function p(t){return!0===t||"AUTO"===t?"AUTO":"number"==typeof t||"string"==typeof t&&t.length?t:null}function r(o){var t=d.row.next(),n=d.col.next(),e=new Object(null);o.row=p(o.row),"AUTO"===o.row&&(o.row=t),o.col=p(o.col),"AUTO"===o.col&&(o.col=n);var u=[];o.el.each(function(t,n){var e,r=null,c=null;o.attr&&(e=n.getAttribute(o.attr))&&(r=(e=(e.replace(/^[\[\]\s\uFEFF\xA0]*/,"").replace(/[\[\]\s\uFEFF\xA0]*$/,"")+",").split(","))[0].trim()||null,c=e[1].trim()||null),u.push([r,c])});var r,c,i=[],l=u.length;for(r=0;r<l;r++)null==(c=[u[r][0]||o.row,u[r][1]||o.col])[0]&&null==c[1]&&(c[0]=t),i.push(c);function a(t,n){for(var e=function(t){var n=new Object(null),e=function(t){return/^(?:[1-9]\d*|0)$/.test(t)}(t)?t:1;return{ban:function(t){n[t]=!0},next:function(){for(;n[e++];);return e-1}}}(),r=(t+1)%2,c=0;c<l;c++)i[c][t]==n&&null!=u[c][r]&&e.ban(u[c][r]);return e}var f,s,v,h=[];for(r=0;r<l;r++)f=i[r][0],s=i[r][1],null==f?(e[v="c_"+s]||(e[v]=a(1,s)),f=e[v].next()):null==s&&(e[v="r_"+f]||(e[v]=a(0,f)),s=e[v].next()),h.push([f,s]);return h}function u(t){d.col.get(t).each(function(){d.row.get(this[o].row).trigger(e+"_deactivate")}).trigger(e+"_activate")}return{connect:function(){return l.each([].slice.call(arguments),function(t){"object"==typeof t&&t.el||(t={el:t}),function(t){if(t.el=i(t.el).filter(function(){return this instanceof HTMLElement}),t.el.length){var c=r(t=l.extend({},n,t));t.el.each(function(t,n){var e=c[t][0],r=c[t][1];n[o]={row:e,col:r},d.row.set(e,n),d.col.set(r,n)}),t.event&&t.el.on(t.event+"."+e,function(){u(this[o].col)}),"function"==typeof t.deactivate&&t.el.on(e+"_deactivate",t.deactivate),"function"==typeof t.activate&&t.el.on(e+"_activate",t.activate)}}(t)}),this},activate:function(t){return u(t||d.col.first()),this}}}});