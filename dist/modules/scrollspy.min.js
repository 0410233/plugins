LazyScript.load("jquery","underscore",function(t){"use strict";var l=t.$,p=t._;function d(t){return null!=t&&"object"==typeof t&&!1===Array.isArray(t)}function g(t){return t&&"function"==typeof t}function n(t){var n,c=l(),r=l();(n=t)&&("string"==typeof n||n instanceof HTMLElement||n instanceof l)||t===document||t===window?t={container:t}:d(t)||(t={});var o=l(t.container||window);o.length&&(o[0]===window||o[0]instanceof HTMLElement)||(o=l(window));var s=o[0]===window,u=s?function(){return{height:window.innerHeight,top:0,bottom:window.innerHeight}}:function(){return o[0].getBoundingClientRect()},a={pos:.2,unit:"%",current:null};function f(t){var n=t.getBoundingClientRect(),e=u();if(n.bottom<=e.top||n.top>=e.bottom)return 0;var i=Math.max(n.top,e.top);return(Math.min(n.bottom,e.bottom)-i)/n.height}function e(){for(var t=a.getPosition(),n=null,e=999999,i=0,r=c.length;i<r;i++){var o=c[i];if(!(f(o)<=0)){var s=o.getBoundingClientRect(),u=Math.abs(t-(s.top+s.height/2));u<e&&(n=o,e=u)}}return n}function i(){for(var t=a.getPosition(),n=0,e=c.length;n<e;n++){var i=c[n],r=i.getBoundingClientRect();if(t>=r.top&&t<=r.bottom)return i}return null}switch(t.offset&&!isNaN(parseFloat(t.offset))&&(a.offset=parseFloat(t.offset),/%$/.test(t.offset)?(a.pos/=100,a.unit="%"):(a.pos=Math.round(a.pos),a.unit="px")),a.getPosition=function(){var t=u();return(0<=this.pos?t.top:t.bottom)+("%"===this.unit?t.height:1)*this.pos},t.method){case"strike":a.getCurrent=function(){return i()};break;case"near":a.getCurrent=function(){return e()};break;default:a.getCurrent=function(){return i()||e()}}var h={cls:"is-active",active:function(t,n){l(t).addClass(n)},deactive:function(t,n){l(t).removeClass(n)}};return{version:"0.2.0",feedback:function(t,n,e){var i;if(this.stop(),(r=l(t)).is('a[href^="#"]')||(r=r.find('a[href^="#"]')),(r=r.filter(function(){return l(this).is('a[href^="#"]')})).length)return(i=n)&&"string"==typeof i&&i.trim().length?h.cls=n:g(n)&&(h.active=n),g(e)&&(h.deactive=e),c=l(),r.each(function(){var t,n=this,e=(t=this.getAttribute("href"),s?l(t)[0]:o.find(t)[0]);e instanceof HTMLElement&&(c=c.add(e),l(e).on("strike",function(){h.active(n,h.cls)}))}),c.length&&this.start(),this},update:function(){var t=a.getCurrent();return t!==a.current&&(r.each(function(){h.deactive(this,h.cls)}),a.current=t),t&&l(t).trigger("strike"),this},start:function(){return r.each(function(){h.deactive(this,h.cls)}),o.off("scroll.spy").on("scroll.spy",p.bind(p.throttle(this.update,100),this)),this.update(),this},stop:function(){return r.each(function(){h.deactive(this,h.cls)}),o.off("scroll.spy"),this},sensor:function(){return{position:a.pos,unit:a.unit,current:a.current}}}}l.fn.scrollspy=function(t){return(t=d(t)?t:{}).container=this,n(t)},t.Scrollspy=n});