LazyScript.load("jquery","underscore",function(t){"use strict";var l=t.$,p=t._;function g(t){return null!=t&&"object"==typeof t&&!1===Array.isArray(t)}function d(t){return t&&"function"==typeof t}function n(t){var n,c=l(),o=l();(n=t)&&("string"==typeof n||n instanceof HTMLElement||n instanceof l)||t===document||t===window?r=l(t={container:t}):g(t)||(t={});var r=l(t.container||window);r.length&&(r[0]===window||r[0]instanceof HTMLElement)||(r=l(window));var s=r[0]===window,u=s?function(){var t=r.width(),n=r.height();return{x:0,y:0,width:t,height:n,top:0,right:t,bottom:n,left:0}}:function(){return r[0].getBoundingClientRect()},a={position:.2,unit:"%",current:null};function f(t){var n=t.getBoundingClientRect(),i=u();if(n.bottom<=i.top||n.top>=i.bottom)return 0;var e=Math.max(n.top,i.top);return(Math.min(n.bottom,i.bottom)-e)/n.height}function i(){for(var t=a.getPosition(),n=null,i=999999,e=0,o=c.length;e<o;e++){var r=c[e];if(!(f(r)<=0)){var s=r.getBoundingClientRect(),u=Math.abs(t-(s.top+s.height/2));u<i&&(n=r,i=u)}}return n}function e(){for(var t=a.getPosition(),n=0,i=c.length;n<i;n++){var e=c[n],o=e.getBoundingClientRect();if(t>=o.top&&t<=o.top+o.height)return e}return null}switch(t.offset&&(a.position=parseFloat(t.offset),isNaN(a.position)?(a.position=.2,a.unit="%"):"%"===t.offset.substr(-1)?(a.position/=100,a.unit="%"):(a.position=Math.round(a.position),a.unit="px")),a.getPosition="%"===a.unit?0<=a.position?function(){var t=u();return t.top+t.height*this.position}:function(){var t=u();return t.top+t.height*(1-this.position)}:0<=a.position?function(){return u().top+this.position}:function(){var t=u();return t.top+t.height-this.position},t.method){case"strike":a.getCurrent=function(){return e()};break;case"near":a.getCurrent=function(){return i()};break;default:a.getCurrent=function(){return e()||i()}}var h={cls:"is-active",active:function(t,n){l(t).addClass(n)},deactive:function(t,n){l(t).removeClass(n)}};return{version:"0.2.0",feedback:function(t,n,i){var e;if(this.stop(),(o=l(t)).is('a[href^="#"]')||(o=o.find('a[href^="#"]')),(o=o.filter(function(){return l(this).is('a[href^="#"]')})).length)return(e=n)&&"string"==typeof e&&e.trim().length?h.cls=n:d(n)&&(h.active=n),d(i)&&(h.deactive=i),c=l(),o.each(function(){var t,n=this,i=(t=this.getAttribute("href"),s?l(t)[0]:r.find(t)[0]);i instanceof HTMLElement&&(c=c.add(i),l(i).on("strike",function(){h.active(n,h.cls)}))}),c.length&&this.start(),this},update:function(){var t=a.getCurrent();return t!==a.current&&(o.each(function(){h.deactive(this,h.cls)}),a.current=t),t&&l(t).trigger("strike"),this},start:function(){return o.each(function(){h.deactive(this,h.cls)}),r.off("scroll.spy").on("scroll.spy",p.bind(p.throttle(this.update,100),this)),this.update(),this},stop:function(){return o.each(function(){h.deactive(this,h.cls)}),r.off("scroll.spy"),this},sensor:function(){return{position:a.position,unit:a.unit,current:a.current}}}}l.fn.scrollspy=function(t){return(t=g(t)?t:{}).container=this,n(t)},t.Scrollspy=n});